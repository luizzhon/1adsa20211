CREATE DATABASE faculdade;
USE faculdade;

CREATE TABLE Empresa (
IDEmpresa int primary key auto_increment,
    nomeEmpresa varchar(50),
    responsavel varchar(50)
);

INSERT INTO Empresa values
(null, 'Fleury', 'Maria'),
(null, 'C6', 'Pedro'),
(null, 'TIVIT', 'Camila'),
(null, 'Safra', 'Natalia');

SELECT * FROM Empresa;

SELECT nomeEmpresa, responsavel FROM Empresa;

SELECT * FROM Empresa order by nomeEmpresa;

SELECT * FROM Empresa order by responsavel desc;

SELECT * FROM Empresa WHERE nomeEmpresa LIKE '%r%';

SELECT * FROM Empresa WHERE nomeEmpresa LIKE 'f%';

SELECT * FROM Empresa WHERE nomeEmpresa LIKE '%r_';

INSERT INTO Empresa VALUES (null,'C6','Paulo');

DELETE FROM Empresa where idEmpresa =3;

DROP TABLE Empresa;

INSERT INTO Empresa VALUES (null,'Bandtec','Vera');

ALTER TABLE Empresa MODIFY nomeEmpresa varchar(40);

ALTER TABLE NomeDaTabela MODIFY NomeDoCampo TipoDoCampo;

Exemplo: ALTER TABLE empresa MODIFY NomeEmpresa VARCHAR(50);

COMANDOS PARA CRIAR USUÁRIO E REALIZAR LOGIN MySQL Server CLI:

-- Entrar no prompt de comando/cmd
-- win + r, digitar cmd, pressionar ok

-- Entrar no diretório bin do MySQL Server: arquivo mysql.exe
-- cd C:\Program Files\MySQL\MySQL Server 8.0\bin

-- Entrar no MySQL Server com o usuário root
-- mysql -u root -p

-- Digitar a senha do usuário root

-- Criar usuário MySQL Server via linha de comando
CREATE USER 'consultor'@'localhost' IDENTIFIED BY 'urubu100';

-- Dar todas as permissões ao usuário criado
GRANT ALL ON *.* TO 'consultor'@'localhost';

-- Dar permissão de apenas consulta
GRANT SELECT, UPDATE ON *.* TO 'consultor'@'localhost';

-- Confirmar as permissões/privilégios
flush privileges;




SCRIPT TABELA AULA:

USE faculdade;

CREATE TABLE aula (
	idAula int primary key auto_increment,
    nomeAula varchar(75),
    tipo char(1),
    check (tipo = 'o' or tipo = 'h' or tipo = 'p'),
    dtAula date,
    mensagem varchar(100)
);

INSERT INTO aula values 
	(null, 'Apresentação da disciplina e primeiros conceitos',
		'o', '2021-02-04', 'Conhecendo Banco de Dados'),
    (null, 'Continuação de conceitos e primeiros comandos SQL',
		'o', '2021-02-11', 'O primeiro comando a gente nunca esquece');
    
SELECT * FROM aula;

INSERT INTO aula (nomeAula, tipo, dtAula, mensagem) values 
	('Permissão de usuário e comandos gerais', 'p', 
    '2021-02-18', 'Sejam bem vindos!');




SCRIPT TABELA ALUNO ATUALIZADO:


-- Criar o banco de dados
CREATE DATABASE faculdade;
-- Selecionar o banco de dados
USE faculdade;

-- Criar tabela ALUNO - DDL
-- varchar e char
-- 01211XXX

CREATE TABLE aluno (
	ra char(8) primary key,
    nome varchar(100),
    email varchar(100),
    telefone varchar(25)
);

-- Exibir os dados da tabela aluno
-- * = todos os campos/colunas
SELECT * FROM aluno;
SELECT ra, nome, email, telefone from aluno;
SELECT ra, email, nome, telefone from aluno;

-- Inserir dados na tabela aluno
INSERT INTO aluno VALUES ('01211999', 'Vivian Silva',
	'vivian.silva@bandtec.com.br', '11-987654321');
    
-- Para inserir mais de um registro
INSERT INTO aluno VALUES 
	('01211XXX', 'Vivian Aluna',
    'vivian.aluna@bandtec.com.br', '11-987655555'),
    ('01211YYY', 'Vivian Monitora',
    'vivian.monitor@bandtec.com.br', '11-987651111');

-- Inserir dados de apenas alguns campos
INSERT INTO aluno (ra, nome, telefone) VALUES 
('01211025', 'Daniel Pederzini', '11-987652345');    

-- Exibir dados dos alunos
SELECT * FROM aluno;

-- Exibir dados do aluno com um respectivo nome
SELECT * FROM aluno where nome = 'Daniel Pederzini';

-- não sei o sobrenome do Daniel, o que fazer?
SELECT * FROM aluno where nome like 'Daniel%';
SELECT * FROM aluno where nome like '%Pederzini';
SELECT * FROM aluno where nome like '%i';

-- todos os alunos que a segunda letra do nome é 'a'
SELECT * FROM aluno where nome like '_a%';
SELECT * FROM aluno where nome like '%e_ %';

-- Exibir os dados cujo o nome é diferente de um respectivo nome
SELECT * FROM aluno where nome <> 'Vivian Silva';
SELECT * FROM aluno where nome != 'Vivian Aluna';

SELECT * FROM aluno where nome like '%n %';

-- Exibir os campos ra, nome e email da tabela aluno
SELECT ra, nome, email from aluno;

-- Atualizar o e-mail de um respectivo aluno
UPDATE aluno SET email = 'daniel@uol.com.br' 
	WHERE ra = '01211025';

-- Atualizar o nome de um respectivo aluno
UPDATE aluno SET nome = 'Vivian Monitora' 
	WHERE ra = '01211XXX';

-- Ordenar em ordem descrecente pelo nome dos alunos
select * from aluno order by nome desc;

-- Deletar a tabela aluno
-- DROP TABLE aluno;  

-- Bons estudos!


SCRIPT BANCO DE DADOS FACULDADE - TABELA ALUNO:

-- Criar o banco de dados
CREATE DATABASE faculdade;
-- Selecionar o banco de dados
USE faculdade;

-- Criar tabela ALUNO - DDL
-- varchar e char
-- 01211XXX

CREATE TABLE aluno (
	ra char(8) primary key,
    nome varchar(100),
    email varchar(100),
    telefone varchar(25)
);

-- Exibir os dados da tabela aluno
-- * = todos os campos/colunas
SELECT * FROM aluno;

-- Inserir dados na tabela aluno
INSERT INTO aluno VALUES ('01211999', 'Vivian Silva',
	'vivian.silva@bandtec.com.br', '11-987654321');
    
-- Para inserir mais de um registro
INSERT INTO aluno VALUES 
	('01211XXX', 'Vivian Aluna','vivian.aluna@bandtec.com.br', '11-987655555'),
    ('01211YYY', 'Vivian Monitora','vivian.monitor@bandtec.com.br', '11-987651111');
    
    
    
    CREATE DATABASE TECCHICKEN;
USE TECCHICKEN;

CREATE TABLE Usuario (
idUsuario INT PRIMARY KEY AUTO_INCREMENT,
nome CHAR (50),
CPF VARCHAR (11),
nomeGranja VARCHAR(50),
CNPJ CHAR (14)
);

CREATE DATABASE TECCHICKEN;
USE TECCHICKEN;

CREATE TABLE Usuario (
idUsuario INT PRIMARY KEY AUTO_INCREMENT,
nome CHAR (50),
CPF VARCHAR (11),
nomeGranja VARCHAR(50),
CNPJ CHAR (14)
);

USUÁRIOS NO MySQL:
ALUNO: SELECT
PROFESSOR: SELECT, INSERT, DELETE, UPDATE
    
    
create database sprint1;
use faculdade;

CREATE TABLE Atleta (
	IDatleta int primary key auto_increment,
    nome varchar(40),
    modalidade varchar(40),
    qtdMedalha int 
);

INSERT INTO Atleta values 
(null, 'Usain Bolt', 'corrida', 8),
(null, 'Oscar Schmidt', 'basquete', 6),
(null, 'Lucas Bittencourt', 'Ginastica', 4),
(null, 'Maybyner Hilário', 'basquete', 5),
(null, 'Arthur Zanetti', 'Ginastica', 6),
(null, 'Frank Caldeira', 'corrida', 2);

SELECT * FROM Atleta; 


SELECT nome, qtdMedalha FROM Atleta; 


SELECT * FROM Atleta where modalidade= 'corrida';


SELECT * FROM Atleta order by modalidade;


SELECT * FROM Atleta order by qtdMedalha desc;


SELECT * FROM Atleta where nome like '%s%';


SELECT * FROM Atleta where nome like 'u%';


SELECT * FROM Atleta where nome like '%o';


SELECT * FROM Atleta where nome like '%r_';


DROP TABLE Atleta;


create database sprint2;
use faculdade;

CREATE TABLE Musica (
	IDmusica int primary key auto_increment,
    titulo varchar(40),
    artista varchar(40),
    genero varchar (40)
);

INSERT INTO Musica values
(null, 'Vt ta na bota', 'Mc Paulin da Capital','Funk'),
(null, 'So gratidao', 'Mc Paulin da Capital', 'Funk'),
(null, 'I am you', 'Ynw Melly', 'Trap'),
(null, 'Murder on my mind', 'Ynw Melly','Trap'),
(null, 'Know My Name', 'Fetty Wap', 'Rap'),
(null, 'Couple Bands', 'Fetty Wap', 'Rap'),
(null, 'Lancinho', 'Turma do Pagode', 'Pagode'),
(null, 'Cobertor de Orelha', 'Turma do Pagode', 'Pagode');


SELECT * FROM Musica;


SELECT titulo, artista FROM Musica;


SELECT * FROM Musica where genero= 'Funk';


SELECT * FROM Musica where artista='Ynw Melly';


SELECT * FROM Musica order by titulo;


SELECT * FROM Musica order by artista desc;


SELECT * FROM Musica where titulo like '%i%';


SELECT * FROM Musica where artista like 'y%';


SELECT * FROM Musica where genero like '_r%';


SELECT * FROM Musica where titulo like '%h_';


DROP TABLE Musica;
    
    
CREATE DATABASE TECCHICKEN;
USE TECCHICKEN;

CREATE TABLE Usuario (
idUsuario INT PRIMARY KEY AUTO_INCREMENT,
nome CHAR (50),
CPF VARCHAR (11),
nomeGranja VARCHAR (50),
CNPJ CHAR (14)
);

INSERT INTO Usuario VALUES 
(null, 'henrique', '85170656033', 'granja do henrique', '79838569000180'),
(null, 'luciano', '94997759007', 'granja do luciano', '39175355000157'),
(null, 'bia', '83261392037', 'granja da bia', '16398022000191'),
(null, 'tiago', '56849110055', 'granja do tiago', '22575602000100');

SELECT * FROM Usuario;

SELECT nome,  CNPJ FROM Usuario;

SELECT * FROM Usuario WHERE nomeGranja= 'granja da bia';

SELECT * FROM Usuario ORDER BY nomeGranja;

SELECT * FROM Usuario ORDER BY CNPJ DESC;

SELECT * FROM Usuario WHERE nome LIKE '%i%';

SELECT * FROM Usuario WHERE nome LIKE 'b%';

SELECT * FROM Usuario WHERE nome LIKE '%o';

SELECT * FROM Usuario WHERE nome LIKE '%n_';

DROP TABLE Usuario;
   
    
    
    Tabela  da prova:
    
    
    CREATE DATABASE ac01211089;
USE ac01211089;

CREATE TABLE Moto (
iDmoto int primary key auto_increment,
    nome varchar(50),
    placa varchar(7),
    cidade char (30)
);

INSERT INTO Moto values
(null, 'xj6 2020', 'FXZ4853', 'sao paulo'),
(null, 'honda cb 600f hornet','LRK0828','rio de janeiro'),
(null, 'bmw S1000RR', 'MOR1703', 'paraiba'),
(null, 'Honda CBR1000 RR', 'HCM4339', 'minas gerais' ),
(null, 'Yamaha YZF-R1', 'NAD5031', 'acre' ),
(null, 'bmw r 1200 gs', 'JOK9668','bahia' ),
(null, 'kawasaki zx-10r','NDF4741','roraima');

SELECT * FROM Moto;

SELECT nome, cidade FROM Moto;

SELECT * FROM Moto where cidade= 'sao paulo';

SELECT * FROM Moto where placa= 'NDF4741';

SELECT * FROM Moto order by cidade;

SELECT * FROM Moto order by nome desc;


SELECT * FROM Moto where nome like '%r_';

SELECT * FROM Moto where cidade like 's%';

SELECT * FROM Moto where placa like '_o%';

SELECT * FROM Moto where nome like '%j%';

UPDATE Moto set placa = 'LRK0828' where iDmoto = 'KEV6403';
SELECT * FROM Moto;

DELETE FROM Moto where idMoto =5;
SELECT * FROM Moto;

DROP TABLE Moto;




CREATE DATABASE Temperatura;
USE Temperatura;

CREATE TABLE Temperatura (
idUsuario INT PRIMARY KEY AUTO_INCREMENT,
temperatura CHAR (2),
dia DATE,
hora time
);

INSERT INTO Temperatura VALUES 
(null, '41', '2020-10-21', '12:00:22'),
(null, '21', '2021-01-03', '17:05:50'),
(null, '23', '2012-04-14', '10:30:23'),
(null, '32', '2001-06-11', '14:52:20');


SELECT * FROM Temperatura;

SELECT temperatura, hora FROM Temperatura;

SELECT * FROM Temperatura WHERE dia= '2001-06-11';

SELECT * FROM Temperatura ORDER BY dia;

SELECT * FROM Temperatura ORDER BY hora DESC;

SELECT * FROM Temperatura WHERE temperatura LIKE '%23%';

SELECT * FROM Temperatura WHERE dia LIKE '2021-01-03%';

SELECT * FROM Temperatura WHERE hora LIKE '%12:00:22';

SELECT * FROM Temperatura WHERE temperatura LIKE '32%';

DROP TABLE Temperatura;



-- Criar database Jornal
create database Jornal;

-- Usar Jornal
use jornal;

-- Criar tabela Jornal

create table Jornal (
idJornal int primary key auto_increment,
nomeJornal varchar (45)
);

-- Criar tabela Reporter

create table Reporter (
idReporter int primary key,
nomeReporter varchar (45),
dataNasc date,
sexo char (1),
check (sexo='m'or sexo='f'),
fkJornal int,
foreign key (fkJornal) references Jornal (idJornal)
);

-- Inserir dados na Tabela Jornal

insert into Jornal values 
(null,'Estadao');
-- Inserir dados na Tabela Reporter
insert into Reporter values
(1,'Mateus','1996-06-12','m', 1),
(2,'Larissa','2000-07-13','f', 2);

-- Selecionar todos os dados das tabelas

select * from Jornal;

select * from Reporter;

Update Jornal set nomeJornal='Datafolha' Where idJornal=1;

Delete from Jornal Where idJornal=1;

SCRIPT DO REFORÇO

-- Criando banco de dados
CREATE DATABASE Produtos;

-- Usando banco de dados
USE Produtos;

-- Criando tabela Categoria
CREATE TABLE Categoria (
idCategoria INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR (45)
);

-- Criando tabela Produtos
CREATE TABLE Produtos (
idProduto INT PRIMARY KEY AUTO_INCREMENT,
descricao VARCHAR (100),
marca VARCHAR (50),
fkCategoria INT,
FOREIGN KEY (fkCategoria) REFERENCES Categoria (idCategoria)
)AUTO_INCREMENT = 100; 

-- Criando tabela Loja
CREATE TABLE Loja (
idLoja INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR (45),
DataFunc DATE
)AUTO_INCREMENT = 1000;

-- Criando tabela associativa
CREATE TABLE ProdutoLoja (
fkProduto INT,
FOREIGN KEY (fkProduto) REFERENCES Produtos (idProduto),
fkLoja INT, 
FOREIGN KEY (fkLoja) REFERENCES Loja (idLoja),
PRIMARY KEY (fkProduto, fkLoja),
preco DECIMAL (6,2)
);

 -- Inserindo dados na tabela categoria
INSERT INTO Categoria	(nome)
VALUES 					('Chocolate'),
						('Refrigerante');

-- Inserindo dados na tabela produtos
INSERT INTO Produtos	(descricao, marca, fkCategoria)
VALUES					('Sensação', 'Lacta', 1),
						('Diamante negro', 'Nestle', 1),
                        ('Talento', 'Garoto', 1),
                        ('Coca-cola', 'Coca', 2),
                        ('Fanta uva', 'Fanta', 2),
                        ('Sprit limão', 'Sprit', 2);

-- Inserindo dados na tabela loja 
INSERT INTO Loja		(nome, dataFunc)
VALUES					('Loja 1', '2000-01-01'),
						('Loja 2', '2001-12-12');

-- Inserindo dados na tabela ProdutoLoja
INSERT INTO ProdutoLoja	(fkProduto, fkLoja, preco)
VALUES					(100, 1000, 5.00),
						(101, 1000, 6.50),
                        (102, 1000, 4.00),
                        (104, 1000, 7.90),
                        (100, 1001, 6.50),
                        (101, 1001, 5.80),
                        (103, 1001, 4.60),
                        (105, 1001, 6.80);

-- Exibindo as tabelas separadamente
SELECT * FROM Categoria;
SELECT * FROM Produtos;
SELECT * FROM Loja;
SELECT * FROM ProdutoLoja;

-- Exibindo dados das categorias e dos seus produtos
SELECT Categoria.*, idProduto, descricao, marca FROM Categoria
INNER JOIN Produtos
ON	idCategoria = fkCategoria;

-- 	Exibindo dados de uma derterminada categoria e os dados dos seus produtos
SELECT Categoria.*, idProduto, descricao, marca FROM Categoria
INNER JOIN Produtos
ON	idCategoria = fkCategoria
WHERE idCategoria = 1;

-- Exibindo a média e as somas dos produtos em geral
SELECT  ROUND(AVG(preco), 2) AS `Média dos preços`,
		SUM(preco) AS `Soma dos preços` FROM ProdutoLoja; 
        
-- Exibindo o menor e o maior preço dos produtos em geral
SELECT 	MAX(preco) AS `Maior preço`,
		MIN(preco) AS `Menor preço` FROM ProdutoLoja;
        
-- Exibindo os dados de um determinado produto, os dados das lojas que o vendem e seu preço em cada loja
SELECT idProduto, descricao, marca, idLoja, nome, dataFunc, preco FROM 	ProdutoLoja
INNER JOIN Produtos
ON fkProduto = idProduto
INNER JOIN Loja 
ON fkLoja = idLoja
WHERE idProduto = 101;

-- Exibindo os dados dos produtos, os dados das categorias correspondentes, os dados das lojas correspondentes e os preços dos produtos em cada loja
SELECT idProduto, descricao, marca, idCategoria, Categoria.nome, idLoja, Loja.nome, dataFunc, preco FROM 	ProdutoLoja
INNER JOIN Produtos
ON fkProduto = idProduto
INNER JOIN Categoria
ON fkCategoria = idCategoria
INNER JOIN Loja 
ON fkLoja = idLoja;

-- Exibindo a identificação do produto, a média e a soma dos preços dos produtos, agrupadas por produto
SELECT fkProduto, ROUND(AVG(preco), 2) AS `Média dos preços`,
SUM(preco) AS `Soma de preços`	FROM ProdutoLoja GROUP BY fkProduto;	
                    
                    
-- Exibindo a identificação da loja, a média e a soma dos preços dos produtos, agrupadas por loja
SELECT fkLoja, ROUND(AVG(preco), 2) AS `Média dos preços`,
SUM(preco)	AS `Soma de preços` FROM ProdutoLoja GROUP BY fkLoja;

-- Exibindo a identificação do produto, o menor e o maior preço, agrupado por produto
SELECT fkProduto, MIN(preco) AS `Menor preço`,
MAX(preco) AS `Maior preço`	FROM ProdutoLoja GROUP BY fkProduto;
                    
-- Exibir a identificação da loja, o menor e o maior preço, agrupado por loja
SELECT fkLoja, MIN(preco) AS `Menor preço`,
MAX(preco) AS `Maior preço`	FROM ProdutoLoja GROUP BY fkLoja;
MAX(preco) AS `Maior preço`	FROM ProdutoLoja GROUP BY fkLoja;

SELECT * FROM categoria;
SELECT * FROM produtos;

INSERT INTO categoria VALUES
(null,'eletrônico');
 
SELECT * FROM categoria LEFT JOIN produtos ON idCategoria = fkCategoria;
SELECT * FROM categoria INNER JOIN produtos ON idCategoria = fkCategoria;
SELECT * FROM categoria RIGHT JOIN produtos 
    ON idCategoria = fkCategoria 
    WHERE fkCategoria is not null;
SELECT * FROM categoria RIGHT JOIN produtos 
    ON idCategoria = fkCategoria 
    WHERE fkCategoria is null;

INSERT INTO produtos VALUES
(null,'Smartphome','Samsung',null);
 
/*
-- Criando banco de dados
CREATE DATABASE Produtos;

-- Usando banco de dados
USE Produtos;

-- Criando tabela Categoria
CREATE TABLE Categoria (
	idCategoria	INT PRIMARY KEY AUTO_INCREMENT,
    nome		VARCHAR(45)
);

-- Criando tabela Produtos
CREATE TABLE Produtos (
	idProduto	INT PRIMARY KEY AUTO_INCREMENT,
    descricao	VARCHAR(100),
	marca		VARCHAR(50),
    fkCategoria	INT,
    FOREIGN KEY (fkCategoria) REFERENCES Categoria (idCategoria)
)AUTO_INCREMENT = 100;

-- Criando tabela Loja
CREATE TABLE Loja (
	idLoja		INT PRIMARY KEY AUTO_INCREMENT,
    nome		VARCHAR(45),
    dataFunc	DATE 
)AUTO_INCREMENT = 1000;

-- Criando tabela associativa
CREATE TABLE ProdutoLoja (
	fkProduto	INT,
    FOREIGN KEY (fkProduto) REFERENCES Produtos (idProduto),
    fkLoja		INT,
    FOREIGN KEY (fkLoja) REFERENCES Loja (idLoja),
    PRIMARY KEY (fkProduto, fkLoja),
    preco		DECIMAL(6,1)
);

-- Inserindo dados na tabela categoria
INSERT INTO Categoria	(nome)
VALUES 					('Chocolate'),
						('Refrigerante');
                    
-- Inserindo dados na tabela produtos
INSERT INTO Produtos	(descricao, marca, fkCategoria)
VALUES					('Sensação', 'Lacta', 1),
						('Diamante negro', 'Nestle', 1),
                        ('Talento', 'Garoto', 1),
                        ('Coca-cola', 'Coca', 2),
                        ('Fanta uva', 'Fanta', 2),
                        ('Sprit limão', 'Sprit', 2);
                        
-- Inserindo dados na tabela loja 
INSERT INTO Loja		(nome, dataFunc)
VALUES					('Loja 1', '2000-01-01'),
						('Loja 2', '2001-12-12');

-- Inserindo dados na tabela ProdutoLoja
INSERT INTO ProdutoLoja	(fkProduto, fkLoja, preco)
VALUES					(100, 1000, 5.00),
						(101, 1000, 6.50),
                        (102, 1000, 4.00),
                        (104, 1000, 7.90),
                        (100, 1001, 6.50),
                        (101, 1001, 5.80),
                        (103, 1001, 4.60),
                        (105, 1001, 6.80);

-- Exibindo as tabelas separadamente
SELECT * FROM Categoria;
SELECT * FROM Produtos;
SELECT * FROM Loja;
SELECT * FROM ProdutoLoja;

-- Exibindo dados das categorias e dos seus produtos
SELECT Categoria.*, idProduto, descricao, marca FROM 	Categoria
INNER JOIN		Produtos
ON				idCategoria = fkCategoria;

-- 	Exibindo dados de uma derterminada categoria e os dados dos seus produtos
SELECT Categoria.*, idProduto, descricao, marca FROM 	Categoria
INNER JOIN 		Produtos
ON				idCategoria = fkCategoria
WHERE			idCategoria = 1;

-- Exibindo a média e as somas dos produtos em geral
SELECT  ROUND(AVG(preco), 2) AS `Média dos preços`,
		SUM(preco) AS `Soma dos preços` FROM ProdutoLoja; 
        
-- Exibindo o menor e o maior preço dos produtos em geral
SELECT 	MAX(preco) AS `Maior preço`,
		MIN(preco) AS `Menor preço` FROM ProdutoLoja;
        
-- Exibindo os dados de um determinado produto, os dados das lojas que o vendem e seu preço em cada loja
SELECT idProduto, descricao, marca, idLoja, nome, dataFunc, preco FROM 	ProdutoLoja
INNER JOIN 		Produtos
ON				fkProduto = idProduto
INNER JOIN		Loja 
ON 				fkLoja = idLoja
WHERE 			idProduto = 101;

-- Exibindo os dados dos produtos, os dados das categorias correspondentes, os dados das lojas correspondentes e os preços dos produtos em cada loja
SELECT idProduto, descricao, marca, idCategoria, Categoria.nome, idLoja, Loja.nome, dataFunc, preco FROM 	ProdutoLoja
INNER JOIN 		Produtos
ON				fkProduto = idProduto
INNER JOIN		Categoria
ON				fkCategoria = idCategoria
INNER JOIN		Loja 
ON 				fkLoja = idLoja;

-- Exibindo a identificação do produto, a média e a soma dos preços dos produtos, agrupadas por produto
SELECT fkProduto, 	ROUND(AVG(preco), 2) AS `Média dos preços`,
					SUM(preco) AS `Soma de preços`	FROM ProdutoLoja GROUP BY fkProduto;	
                    
                    
-- Exibindo a identificação da loja, a média e a soma dos preços dos produtos, agrupadas por loja
SELECT fkLoja, 	ROUND(AVG(preco), 2) AS `Média dos preços`,
				SUM(preco)	AS `Soma de preços` FROM ProdutoLoja GROUP BY fkLoja;

-- Exibindo a identificação do produto, o menor e o maior preço, agrupado por produto
SELECT fkProduto, 	MIN(preco) AS `Menor preço`,
					MAX(preco) AS `Maior preço`	FROM ProdutoLoja GROUP BY fkProduto;
                    
-- Exibir a identificação da loja, o menor e o maior preço, agrupado por loja
SELECT fkLoja, 	MIN(preco) AS `Menor preço`,
				MAX(preco) AS `Maior preço`	FROM ProdutoLoja GROUP BY fkLoja;
